
{{ $sri := .Site.Data.sri }}
{{ $scr := .Scratch }}

<meta name="theme-color" content="{{ if (isset .Scratch "primary") }}{{ .Scratch.primary }}{{else}}{{""}}{{end}}">

<!-- Not doing SRI check for below guys as if the highlight style changes the SRI check fails -->
{{if or (isset $.Params "highlight") (isset $.Site.Params "highlight") }}
    {{if (isset $.Params "highlight_style") }}
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/{{ $sri.js.highlight.version }}/styles/{{ $.Params.highlight_style }}.min.css">
    {{else if (isset $.Site.Params "highlight_style")}}
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/{{ $sri.js.highlight.version }}/styles/{{ $.Site.Params.highlight_style }}.min.css">
    {{else}}
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/{{ $sri.js.highlight.version }}/styles/github-gist.min.css">
    {{end}}
{{ end }}

<!-- bootstrap -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/{{ $sri.css.bootstrap.version }}/css/bootstrap.min.css" {{ if not .Site.Params.disable_sri }} integrity="{{$sri.css.bootstrap.sri}}" crossorigin="anonymous"{{end}}>
<!-- academicons -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/academicons/{{ $sri.css.academicons.version }}/css/academicons.min.css"  {{ if not .Site.Params.disable_sri }} integrity="{{$sri.css.academicons.sri}}" crossorigin="anonymous"{{end}}>
<!-- fontawesome -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/{{ $sri.css.fontAwesome.version }}/css/font-awesome.min.css"  {{ if not .Site.Params.disable_sri }} integrity="{{$sri.css.fontAwesome.sri}}" crossorigin="anonymous"{{end}}>
<!-- fancybox -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fancybox/{{ $sri.css.fancybox.version }}/jquery.fancybox.min.css"  {{ if not .Site.Params.disable_sri }} integrity="{{$sri.css.fancybox.sri}}" crossorigin="anonymous"{{end}}>
<!-- leaflet maps -->
{{ if or (eq .Site.Params.map 2) (eq .Site.Params.map 3) }}
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/leaflet/{{ $sri.css.leaflet.version }}/leaflet.css"  {{ if not .Site.Params.disable_sri }} integrity="{{$sri.css.leaflet.sri}}" crossorigin="anonymous"{{end}}>
{{end}}

<!--We cannot use SRI with Google Fonts because the CSS is dynamically generated according to the user agent  -->
{{ with (.Scratch.Get "google_fonts") }}
<link rel="stylesheet" href="{{ printf "//fonts.googleapis.com/css?family=%s" . }}">
{{ end }}
<link rel="stylesheet" href="/styles.css">

{{ range .Site.Params.custom_css }}
    <link rel="stylesheet" href="{{ "    /css/" | relURL }}{{ . }}">
{{ end }}
