<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js"></script>
<script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"/>
<style>
    .slick-prev:before, .slick-next:before {
        color:#333 !important;
    }
    .details_cards{
        text-align: center;
        padding: 1rem;
    }
    .details_cards p{
        font-weight: 200;
        font-size: 0.75rem;
    }
</style>
<script type="text/javascript">
    $(document).ready(function() {
        $('.carousel_responsive').slick({
            dots: true,
            arrows: true,
            infinite: true,
            speed: 300,
            slidesToShow: 4,
            slidesToScroll: 4,
            responsive: [
                {
                    breakpoint: 1024,
                    settings: {
                        slidesToShow: 3,
                        slidesToScroll: 3,
                        infinite: true,
                        dots: true
                    }
                },
                {
                    breakpoint: 600,
                    settings: {
                        slidesToShow: 2,
                        slidesToScroll: 2
                    }
                },
                {
                    breakpoint: 480,
                    settings: {
                        slidesToShow: 1,
                        slidesToScroll: 1
                    }
                }

            ]
        });
    });

</script>
{{range $index, $element := $.Site.Params.featured_pages.sections}}
    <section id="show_featured_{{.name}}" class="home-section">
        <div class="container">
            <!-- Contact widget -->
            <div class="row">
                {{if isset (index $.Site.Params.featured_pages.sections $index) "title"}}
                <div class="col-lg-12 text-center">
                    <h1 class="heading"  style="color: {{.title_color}}">{{.title | humanize}}</h1>
                </div>
                {{ end }}
                {{if isset (index $.Site.Params.featured_pages.sections $index) "subtitle"}}
                <div class="col-lg-12 text-center">
                    <h2 class="subheading" style="color: {{.subtitle_color}}">{{.subtitle}}</h2>
                </div>
                {{ end }}
            </div>
            <div class="row flexbox carousel_responsive">
                {{   $.Scratch.Set "num_featured" .num_featured }}
                {{   $.Scratch.Set "title_color" .card_title_font_color }}
                {{   $.Scratch.Set "description_color" .card_description_font_color }}
                {{ range first .num_featured (sort  (where (where $.Data.Pages "Section" .name) "Params.featured" true) .sort_field .sort_order)}}
                    <div class ="details_cards">
                        <a href="{{.Permalink}}">
                            <img src="/img/{{.Params.caption_image}}" class="img-responsive img-centered" alt="{{.Title}}">
                        </a>
                        <h4 style="color: {{$.Scratch.Get "title_color"}}">{{.Params.title}}</h4>
                        <p style="color: {{$.Scratch.Get "description_color"}}">{{ .Summary }}</p>
                    </div>
                {{end}}
            </div>

        </div>
    </section>
{{end}}
